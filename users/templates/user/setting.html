{% extends "base/index.html" %} {% load static %} {% block title %}설정 -
TripSnap{% endblock title %} {% block content %}
<main class="p-6">
  <div class="max-w-3xl mx-auto space-y-8">
    <!-- 상단 헤더 -->
    <div
      class="bg-white/90 rounded-2xl border-4 border-[#D2691E] pixel-corners p-6 flex items-center justify-between"
    >
      <div>
        <h1 class="text-2xl font-extrabold text-[#D2691E]">설정</h1>
        <p class="text-sm text-gray-600 mt-1">비밀번호 변경 및 계정 관리</p>
      </div>
      <div class="text-right text-sm text-gray-500">
        <p class="font-semibold">{{ request.user.nickname }}</p>
        <p>@{{ request.user.username }}</p>
      </div>
    </div>

    <!-- 비밀번호 변경 -->
    <section
      class="bg-white/95 rounded-2xl border-4 border-[#D2691E] pixel-corners p-6"
    >
      <h2 class="text-xl font-bold text-[#D2691E] mb-4">비밀번호 변경</h2>

      <form method="POST" class="space-y-4">
        {% csrf_token %} {% if form.non_field_errors %}
        <div class="p-3 rounded-lg bg-red-100 text-red-700 text-sm">
          {% for error in form.non_field_errors %}
          <p>{{ error }}</p>
          {% endfor %}
        </div>
        {% endif %}

        <div class="space-y-2">
          <label class="block text-sm font-semibold text-[#8B4513]"
            >현재 비밀번호</label
          >
          {{ form.old_password }}
        </div>

        <div class="space-y-2">
          <label class="block text-sm font-semibold text-[#8B4513]"
            >새 비밀번호</label
          >
          {{ form.new_password1 }}
        </div>

        <div class="space-y-2">
          <label class="block text-sm font-semibold text-[#8B4513]"
            >새 비밀번호 확인</label
          >
          {{ form.new_password2 }}
        </div>

        <button
          type="submit"
          class="mt-4 w-full bg-[#FF69B4] text-white py-3 rounded-xl font-bold border-2 border-[#D2691E] hover:bg-[#FF1493] transition"
        >
          비밀번호 변경
        </button>
      </form>
    </section>

    <!-- 회원 탈퇴 -->
    <section
      class="bg-white/95 rounded-2xl border-4 border-red-500 pixel-corners p-6"
    >
      <h2 class="text-xl font-bold text-red-600 mb-2">회원 탈퇴</h2>
      <p class="text-sm text-gray-600 mb-4">
        계정을 탈퇴하면 작성한 게시글, 댓글, 프로필 정보 등이 삭제되며 복구할 수
        없습니다.
      </p>

      <form
        method="POST"
        action="{% url 'users:account_delete' %}"
        onsubmit="return confirm('정말 탈퇴하시겠습니까? 이 작업은 되돌릴 수 없습니다.');"
      >
        {% csrf_token %}
        <button
          type="submit"
          class="w-full bg-red-500 text-white py-3 rounded-xl font-bold border-2 border-red-700 hover:bg-red-600 transition"
        >
          계정 영구 탈퇴
        </button>
      </form>
    </section>
  </div>
</main>
{% endblock content %}
